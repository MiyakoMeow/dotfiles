{
  "$schema": "https://opencode.ai/config.json",
  "autoupdate": "notify",
  "experimental": {
    "chatMaxRetries": 3,
  },
  "compaction": {
    "auto": true,
    "prune": true,
  },
  "permission": {
    "bash": {
      "ls *": "allow",
      "tree *": "allow",
      "fd *": "allow",
      "rg *": "allow",
      "sed *": "ask",
      "sd *": "ask",
      "wc *": "allow",
    },
    "edit": {
      "findings.md": "allow",
      "progress.md": "allow",
      "task_plan.md": "allow",
    },
  },
  "lsp": {
    "rust": {
      "disabled": true,
    },
  },
  "mcp": {
    "docs-rs": {
      "type": "local",
      "enabled": false,
      "command": [
        "deno",
        "run",
        "--no-lock",
        "--allow-net",
        "--allow-env",
        "--allow-sys",
        "npm:@nuskey8/docs-rs-mcp",
      ],
    },
    "package-registry": {
      "type": "local",
      "enabled": false,
      "command": [
        "deno",
        "run",
        "--no-lock",
        "--allow-net",
        "--allow-env",
        "--allow-sys",
        "npm:package-registry-mcp",
      ],
    },
    "web-reader": {
      "type": "local",
      "enabled": true,
      "command": [
        "deno",
        "run",
        "--no-lock",
        "--allow-net",
        "--allow-env",
        "--allow-sys",
        "npm:mcp-web-reader",
      ],
    },
  },
  "agent": {
    "build": {
      "mode": "primary",
      "prompt": "{file:./AGENTS-build.md}",
      "description": "Build agent，用于编码实现和开发工作"
    },
    "plan": {
      "mode": "primary",
      "prompt": "{file:./AGENTS-plan.md}",
      "description": "Plan agent，用于规划和分析，不进行实际修改"
    },
    "general": {
      "mode": "subagent",
      "prompt": "{file:./AGENTS-build.md}",
      "description": "通用助手，用于复杂任务和多步骤执行"
    },
    "explore": {
      "mode": "subagent",
      "prompt": "{file:./AGENTS-explore.md}",
      "description": "Explore agent，用于探索代码库和快速查找信息"
    }
  }
}

